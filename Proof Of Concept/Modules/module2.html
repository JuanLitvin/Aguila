<html>
	<head>
		<meta charset="utf-8">
		<meta name="MODULE_HEIGHT" content="3">
		<meta name="MODULE_WIDTH" content="3">
		<meta name="MODULE_NAME" content="Widget 2">
	</head>
	<body style="background:black;color:white;margin:0;">
		<div id="date" style="color:white;font-size:1.5em;float:right;"></div>
		<script>
			function updateDate() {
				var today = new Date();
				var dotw = getDayOfTheWeek(today.getDay());
				var d = today.getDate();
				var m = today.getMonth() + 1;
				var y = today.getFullYear();
				
				document.getElementById('date').innerHTML = dotw + ", " + d + " " + m + ", " + y;				
			}
			
			function timeToMidnight() {
				var midnight = new Date();
				midnight.setHours(0,0,0,0); 
				var now = new Date();
				var msToMidnight = midnight - now;
				return msToMidnight;
			};
			
			function getDayOfTheWeek(day) {
				switch(day) {
					case 0:
						return "Domingo";
						break;
					case 1:
						return "Lunes";
						break;
					case 2:
						return "Martes";
						break;
					case 3:
						return "Miércoles";
						break;
					case 4:
						return "Jueves";
						break;
					case 5:
						return "Viernes";
						break;
					case 6:
						return "Sábado";
						break;
				}
			}
			
			updateDate();
			setTimeout(function() {
				setInterval(updateDate()
					, 86400000);
			}, timeToMidnight());
			
		</script>
	</body>
</html>